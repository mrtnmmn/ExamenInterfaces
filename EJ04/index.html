<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ej04</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" integrity="sha512-wnea99uKIC3TJF7v4eKk4Y+lMz2Mklv18+r4na2Gn1abDRPPOeef95xTzdwGD9e6zXJBteMIhZ1+68QC5byJZw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body class="bg-gray-300">
    <div class="flex h-screen flex-col">
        <div class="m-auto font-mono flex flex-wrap justify-center flex-col">
            <div class="bg-gray-200 p-5 rounded-lg shadow-lg">
                <div>
                    <div class="font-bold">Nombre unidad:</div>
                    <input id="nombre" type="text">
                </div>
                <div>
                    <div class="font-bold">Ataque minimo</div>
                    <input id="ataque" type="text">
                </div>
                <button id="btn" class="bg-gray-500 mt-2 rounded">Buscar</button>
                <div id="res" class="invisible"></div>
            </div>
        </div>
    </div>

    <script>
        document.getElementById("btn").addEventListener("click", async function() {

            let nombre = document.getElementById('nombre').value
            let ataque = document.getElementById('ataque').value
        
            let response = await fetch('http://localhost:6500/unidades?nombre=' + nombre + '&ataque=' + ataque) 
            let data = await response.json()

            for (let i = 0; i < data["units"].length; i++) {
                document.getElementById("res").innerHTML += data["units"][i]["name"]
            }

            document.getElementById("res").className = "visible"
        })
    </script>

</body>
</html>